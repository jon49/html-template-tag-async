<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Yay!</title>
   <script src="../src/index.js"></script>
</head>
<body>

   <h1>Watch the console!</h1>

   <script>
    import html from "./html-template-tag-async.js";

    let time = (time, msg) => new Promise((resolve, reject) => {
  setTimeout( function() {
    resolve(msg)  // Yay! Everything went well!
  }, time) 
})

;(async function() {
   const hello = "Hello!"
   const ok = "ok"
   var nested = html`${ok}<p>that's right!</p>`
   try {
    for await (let x of html`
Variable:${hello}
Nested HTML:${nested}
Promise:${time(1, "message!")}
Array:${[0,1]}
Array of HTML:${[2, 3].map(x => html`${x}`)}
Array of Promise:${[4,5].map(x => time(1,""+x))}
Nested HTML:${html`${"<p>Paragraph</p>"}<p>Paragraph</p>`}
Nested twice:${html`${html`I'm deeply nested!`}`}
$${"<p>Unescaped HTML!</p>"}`)
            console.log(x)
   }
   catch (e) {
       console.warn("There was an error!")
       console.error(e)
   }
}());

   </script>


</body>
</html>
